@model AppData.Model.Voucher

@{
    ViewData["Title"] = "Chỉnh Sửa Voucher";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<div class="container-fluid">
    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <h1 class="h3 mb-0 text-gray-800">@ViewData["Title"]</h1>
        </div>
        <form asp-action="Edit" method="post">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label asp-for="MaVoucher">Mã Voucher</label>
                            <input asp-for="MaVoucher" class="form-control" />
                            <span asp-validation-for="MaVoucher" class="text-danger"></span>
                        </div>

                        <div class="form-group">
                            <label asp-for="MoTaVoucher">Mô Tả</label>
                            <textarea asp-for="MoTaVoucher" class="form-control" rows="3"></textarea>
                            <span asp-validation-for="MoTaVoucher" class="text-danger"></span>
                        </div>

                        <div class="form-group">
                            <label asp-for="LoaiGiamGia">Loại Giảm Giá</label>
                            <select asp-for="LoaiGiamGia" class="form-control" id="LoaiGiamGia">
                                <option value="1" selected="@(Model.LoaiGiamGia == 1 ? "selected" : null)">Theo % sản phẩm</option>
                                <option value="2" selected="@(Model.LoaiGiamGia == 2 ? "selected" : null)">Theo số tiền</option>
                            </select>
                            <span asp-validation-for="LoaiGiamGia" class="text-danger"></span>
                        </div>

                        <div class="form-group">
                            <label asp-for="GiaTriGiam">Giá Trị Giảm</label>
                            <input asp-for="GiaTriGiam" class="form-control" id="GiaTriGiam" type="text" />
                            <span asp-validation-for="GiaTriGiam" class="text-danger"></span>
                        </div>

                        <div class="form-group">
                            <label asp-for="GiaTriDonHangToiThieu">Giá Trị Đơn Hàng Tối Thiểu</label>
                            <input asp-for="GiaTriDonHangToiThieu" class="form-control" type="text" />
                            <span asp-validation-for="GiaTriDonHangToiThieu" class="text-danger"></span>
                        </div>

                        <div class="form-group" id="SoTienToiDaContainer" style="display:none;">
                            <label asp-for="SoTienToiDa">Số Tiền Giảm Tối Đa</label>
                            <input asp-for="SoTienToiDa" class="form-control" type="text" />
                            <span asp-validation-for="SoTienToiDa" class="text-danger"></span>
                        </div>

                        <div class="form-group">
                            <label asp-for="NgayBatDau">Ngày Bắt Đầu</label>
                            <input asp-for="NgayBatDau" class="form-control" />
                            <span asp-validation-for="NgayBatDau" class="text-danger"></span>
                        </div>

                        <div class="form-group">
                            <label asp-for="NgayKetThuc">Ngày Kết Thúc</label>
                            <input asp-for="NgayKetThuc" class="form-control" />
                            <span asp-validation-for="NgayKetThuc" class="text-danger"></span>
                        </div>

                        <div class="form-group mb-3">
                            <label asp-for="TrangThai">Trạng thái</label>
                            <select asp-for="TrangThai" class="form-control">
                                <option value="1" selected="@(Model.TrangThai == 1 ? "selected" : null)">Chờ kích hoạt</option>
                                <option value="3" selected="@(Model.TrangThai == 3 ? "selected" : null)">Tạm dừng</option>
                                <option value="4" selected="@(Model.TrangThai == 4 ? "selected" : null)">Dừng</option>
                            </select>
                            <span asp-validation-for="TrangThai" class="text-danger"></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <input type="submit" value="Lưu" class="btn btn-primary" />
                <a asp-action="Index" class="btn btn-secondary">Quay lại</a>
            </div>
        </form>
    </div>
</div>

<script>
    $(document).ready(function () {
        var selectedValue = $('#LoaiGiamGia').val();
        if (selectedValue == 1) {
            $('#SoTienToiDaContainer').slideDown(500);
        } else {
            $('#SoTienToiDaContainer').slideUp(500);
        }

        $('#LoaiGiamGia').on('change', function () {
            var selectedValue = $(this).val();
            if (selectedValue == 1) {
                $('#SoTienToiDaContainer').slideDown(500);
            } else {
                $('#SoTienToiDaContainer').slideUp(500);
            }
        });
    });
</script>